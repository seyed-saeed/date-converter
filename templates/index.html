<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุชุจุฏู ุชุงุฑุฎ ุดูุณุ ููุงุฏุ ููุฑ + ุงููุงุช ุดุฑุน ุขููุงู</title>
  <link rel="stylesheet" href="static/style.css">
</head>
<body>
  <!-- ุงุณูพูุฑ ู ูฺฉุงุช ุฌุฐุงุจ ููฺฏุงู ููุฏ -->
  <div id="spinner" class="spinner-wrapper">
    <div class="spinner"></div>
    <p class="loading-text">ุฏุฑ ุญุงู ุขูุงุฏูโุณุงุฒ ุณุงุชุ ูุทูุงู ุตุจูุฑ ุจุงุดุฏ... โ</p>
    <ul class="tips-list">
      <li>๐ ุชุจุฏู ุชุงุฑุฎ ุดูุณุ ููุงุฏุ ููุฑ ููุท ุจุง ฺฉ ฺฉูฺฉ</li>
      <li>๐ ุฏุฑุงูุช ุงููุงุช ุดุฑุน ุฏูู ุจุฑุง ูุฑ ุดูุฑ ุงุฑุงู</li>
      <li>๐ ูุญุงุณุจู ุณู ุฏูู ุจุฑ ุงุณุงุณ ุชุงุฑุฎ ุชููุฏ</li>
      <li>๐ช ููุงุด ููุงุฏ ูุงู ุชููุฏ ุจู ุณุจฺฉ ุงุฑุงู</li>
      <li>๐ ููุงุด ุฑูุฒ ููุชู ุจู ุณู ุฒุจุงู: ูุงุฑุณุ ุงูฺฏูุณุ ุนุฑุจ</li>
      <li>๐ ุชุจุฏู ุชุงุฑุฎ ุดูุณ ุจู ููุงุฏ ู ุจุงูุนฺฉุณ</li>
      <li>๐ ุชุจุฏู ุชุงุฑุฎ ููุงุฏ ุจู ููุฑ ุจุง ุฏูุช ุจุงูุง</li>
      <li>๐ ููุงุด ุชุงุฑุฎ ุงูุฑูุฒ ุฏุฑ ุณู ุชููู ูุฎุชูู</li>
      <li>๐ง ูุนูุง: ุงฺฏุฑ ฺฉุณ ุฏุฑ ฑณถต/ต/ฒ ุจู ุฏูุง ุขูุฏู ุจุงุดุฏุ ฺูุฏ ุณุงู ุฏุงุฑุฏุ</li>
      <li>๐งญ ูุนูุง: ุงฺฏุฑ ุงูุฑูุฒ ุฌูุนู ุจุงุดุฏุ ฑฐฐ ุฑูุฒ ุจุนุฏ ฺู ุฑูุฒ ุฎูุงูุฏ ุจูุฏุ</li>
      <li>๐ ูฺฉุชู: ุชุงุฑุฎ ููุฑ ุจุฑ ุงุณุงุณ ุฑุคุช ูุงู ูุญุงุณุจู ูโุดูุฏ</li>
      <li>๐ ูุงุจูุช ูุญุงุณุจู ูุงุตูู ุจู ุฏู ุชุงุฑุฎ ุฏุฑ ุฑูุฒุ ูุงู ู ุณุงู</li>
      <li>๐งฎ ุชุจุฏู ุชุงุฑุฎ ุชููุฏ ุจู ุณู ุฏูู ุจุง ุฌุฒุฆุงุช</li>
      <li>๐ ุขููุฒุด ุชูููโูุง ูุฎุชูู ุฏุฑ ุจุฎุด ุฑุงูููุง</li>
      <li>๐งฉ ูุนูุง: ุงฺฏุฑ ุชุงุฑุฎ ุชููุฏ ฺฉุณ ฑณทฐ/ฑ/ฑ ุจุงุดุฏุ ุฏุฑ ุณุงู ฑดฐต ฺูุฏ ุณุงูู ุงุณุชุ</li>
      <li>๐ ูพุดุชุจุงู ุงุฒ ุดูุฑูุง ูุฎุชูู ุงุฑุงู ุจุฑุง ุงููุงุช ุดุฑุน</li>
      <li>๐ ูุงุจูุช ุฐุฎุฑู ุชุงุฑุฎโูุง ุฎุงุต ุจุฑุง ูุฑุงุฌุนุงุช ุจุนุฏ</li>
      <li>๐ ุทุฑุงุญ ุณุจฺฉ ู ุณุฑุน ุจุฑุง ููุจุงู ู ุฏุณฺฉุชุงูพ</li>
      <li>๐จ ุฑุงุจุท ฺฉุงุฑุจุฑ ุดุดูโุง ุจุง ูููุช ูุงุฑุณ ุฒุจุง</li>
      <li>๐ง ูุนูุง: ุงฺฏุฑ ุงูุฑูุฒ ด ููุฑ ุจุงุดุฏุ ตฐ ุฑูุฒ ูุจู ฺู ุชุงุฑุฎ ุจูุฏูุ</li>
      <li>๐ ููุงุด ุชุงุฑุฎ ุชููุฏ ุจู ุณู ูุฑูุช ูุฎุชูู</li>
      <li>๐ง ูุนูุง: ุงฺฏุฑ ฺฉุณ ฑฐ ูุฒุงุฑ ุฑูุฒ ุฒูุฏฺฏ ฺฉุฑุฏู ุจุงุดุฏุ ฺูุฏ ุณุงูุดูุ</li>
      <li>๐ ูฺฉุชู: ุชุงุฑุฎ ุดูุณ ุจุฑ ุงุณุงุณ ุชููู ุฌูุงู ูุญุงุณุจู ูโุดูุฏ</li>
      <li>๐ง ูุนูุง: ุงฺฏุฑ ุงูุฑูุฒ ุฏูุดูุจู ุจุงุดุฏุ ท ุฑูุฒ ุจุนุฏ ฺู ุฑูุฒ ุงุณุชุ</li>
      <li>๐ ูฺฉุชู: ูุงูโูุง ููุฑ ููฺฉู ุงุณุช ฒน ุง ณฐ ุฑูุฒู ุจุงุดูุฏ</li>
      <li>๐ง ูุนูุง: ุงฺฏุฑ ฺฉุณ ุฏุฑ ฑณธฐ/ฑฒ/ฒน ุจู ุฏูุง ุขูุฏู ุจุงุดุฏุ ุชููุฏุด ุฏุฑ ุณุงู ฺฉุจุณู ฺู ุฑูุฒ ูโุงูุชุฏุ</li>
      <li>๐ ูฺฉุชู: ุชููู ููุงุฏ ุจุฑ ุงุณุงุณ ฺฏุฑุฏุด ุฒูู ุจู ุฏูุฑ ุฎูุฑุดุฏ ุงุณุช</li>
      <li>๐ง ูุนูุง: ุงฺฏุฑ ุงูุฑูุฒ ฒฐ ููุฑ ุจุงุดุฏุ ฑฐฐ ุฑูุฒ ุจุนุฏ ฺู ุชุงุฑุฎ ุฎูุงูุฏ ุจูุฏุ</li>
      <li>๐ ูฺฉุชู: ุชููู ุดูุณ ุฏููโุชุฑู ุชููู ุฌูุงู ุฏุฑ ูุญุงุณุจู ุณุงู ุฎูุฑุดุฏ ุงุณุช</li>
    </ul>
  </div>

  <!-- ูุฑู ุชุจุฏู ุชุงุฑุฎ ุจุง ฺฏุฒููโูุง ุงูุชุฎุงุจ ููุน -->
  <div class="container">
    <h1>ุชุจุฏู ุชุงุฑุฎ ู ุงููุงุช ุดุฑุน</h1>

    <form method="POST">
      <input type="hidden" name="action" value="convert">
      <div class="row">
        <label>ููุน ุชุจุฏู:</label>
        <div class="radio-group">
          <label><input type="radio" name="mode" value="shamsi" checked onchange="updateFields()"> ุดูุณ โ ููุงุฏ ู ููุฑ</label>
          <label><input type="radio" name="mode" value="miladi" onchange="updateFields()"> ููุงุฏ โ ุดูุณ ู ููุฑ</label>
          <label><input type="radio" name="mode" value="hijri" onchange="updateFields()"> ููุฑ โ ุดูุณ ู ููุงุฏ</label>
        </div>
      </div>

      <div class="row-horizontal" id="shamsi-fields">
        <select name="year">
          {% for y in years_shamsi %}
            <option value="{{ y }}">{{ y }}</option>
          {% endfor %}
        </select>
        <select name="month">
          {% for num, name in shamsi_months.items() %}
            <option value="{{ num }}">{{ name }}</option>
          {% endfor %}
        </select>
        <select name="day">
          {% for d in days %}
            <option value="{{ d }}">{{ d }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="row-horizontal hidden" id="miladi-fields">
        <select name="year_m">
          {% for y in years_miladi %}
            <option value="{{ y }}">{{ y }}</option>
          {% endfor %}
        </select>
        <select name="month_m">
          {% for num, name in miladi_months.items() %}
            <option value="{{ num }}">{{ name }}</option>
          {% endfor %}
        </select>
        <select name="day_m">
          {% for d in days %}
            <option value="{{ d }}">{{ d }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="row-horizontal hidden" id="hijri-fields">
        <select name="year_h">
          {% for y in years_hijri %}
            <option value="{{ y }}">{{ y }}</option>
          {% endfor %}
        </select>
        <select name="month_h">
          {% for num, name in hijri_months.items() %}
            <option value="{{ num }}">{{ name }}</option>
          {% endfor %}
        </select>
        <select name="day_h">
          {% for d in days %}
            <option value="{{ d }}">{{ d }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="buttons">
        <button type="submit">๐ ุชุจุฏู</button>
      </div>
    </form>

    {% if result and result.action == "convert" %}
      <div class="result">
        {% if result.error %}
          <p class="error">{{ result.error }}</p>
        {% else %}
          {% if result.shamsi %}<p>๐ ุชุงุฑุฎ ุดูุณ: <strong>{{ result.shamsi }}</strong></p>{% endif %}
          {% if result.miladi %}<p>๐ ุชุงุฑุฎ ููุงุฏ: <strong>{{ result.miladi }}</strong></p>{% endif %}
          {% if result.hijri %}<p>๐ ุชุงุฑุฎ ููุฑ: <strong>{{ result.hijri }}</strong></p>{% endif %}
          {% if result.weekday %}<p>๐ ุฑูุฒ ููุชู: <strong>{{ result.weekday }}</strong></p>{% endif %}
          {% if result.age_days %}<p>๐ ุชุนุฏุงุฏ ุฑูุฒูุง ฺฏุฐุดุชู: <strong>{{ result.age_days }}</strong> ุฑูุฒ</p>{% endif %}
          {% if result.age %}<p>๐ ุณู ุฏูู: <strong>{{ result.age }}</strong></p>{% endif %}
          {% if result.month_symbol %}<p>๐ช ููุงุฏ ูุงู ุดูุณ: <strong>{{ result.month_symbol }}</strong></p>{% endif %}
          {% if result.hijri_symbol %}<p>๐ ููุงุฏ ูุงู ููุฑ: <strong>{{ result.hijri_symbol }}</strong></p>{% endif %}
          {% if result.miladi_zodiac %}<p>โ Zodiac Sign: <strong>{{ result.miladi_zodiac }}</strong></p>{% endif %}
        {% endif %}
      </div>
    {% endif %}

    <!-- ูุฑู ุงูุฑูุฒ -->
    <form method="POST">
      <input type="hidden" name="action" value="today">
      <div class="buttons">
        <button type="submit">๐ ุงูุฑูุฒ</button>
      </div>
    </form>

    {% if result and result.action == "today" %}
      <div class="result">
        {% if result.error %}
          <p class="error">{{ result.error }}</p>
        {% else %}
          <p>๐ {{ result.today_text }}</p>
                    <p>๐ ุชุงุฑุฎ ููุฑ: <strong>{{ result.hijri_today }}</strong></p>
        {% endif %}
      </div>
    {% endif %}

    <!-- ุฏฺฉูู ููุงุด ูุฑู ุงููุงุช ุดุฑุน -->
    <div class="buttons">
      <button type="button" onclick="showPrayerForm()">๐ ุงููุงุช ุดุฑุน</button>
    </div>

    <!-- ูุฑู ูุฎู ุงููุงุช ุดุฑุน -->
    <div id="prayer-wrapper" class="hidden">
      <form method="POST" id="prayer-form">
        <input type="hidden" name="action" value="prayer">
        <div class="row">
          <label for="city">ูุงู ุดูุฑ:</label>
          <input type="text" name="city" id="city" placeholder="ูุซูุงู Mashhad">
        </div>
        <div class="buttons">
          <button type="submit">โ ุชุฃุฏ</button>
        </div>
      </form>
    </div>

    {% if result and result.action == "prayer" %}
      <div class="result">
        {% if result.error %}
          <p class="error">{{ result.error }}</p>
        {% else %}
          <h3>๐ ุงููุงุช ุดุฑุน ุงูุฑูุฒ ุฏุฑ {{ result.city_name }}</h3>
          <p>ุงุฐุงู ุตุจุญ: {{ result.prayer_times.Fajr }}</p>
          <p>ุทููุน ุขูุชุงุจ: {{ result.prayer_times.Sunrise }}</p>
          <p>ุงุฐุงู ุธูุฑ: {{ result.prayer_times.Dhuhr }}</p>
          <p>ุงุฐุงู ุนุตุฑ: {{ result.prayer_times.Asr }}</p>
          <p>ุงุฐุงู ูุบุฑุจ: {{ result.prayer_times.Maghrib }}</p>
          <p>ุงุฐุงู ุนุดุงุก: {{ result.prayer_times.Isha }}</p>
        {% endif %}
      </div>
    {% endif %}
  </div>

  <script>
    function showPrayerForm() {
      document.getElementById("prayer-wrapper").classList.remove("hidden");
    }

    function updateFields() {
      const mode = document.querySelector('input[name="mode"]:checked').value;
      document.getElementById("shamsi-fields").classList.add("hidden");
      document.getElementById("miladi-fields").classList.add("hidden");
      document.getElementById("hijri-fields").classList.add("hidden");

      if (mode === "shamsi") {
        document.getElementById("shamsi-fields").classList.remove("hidden");
      } else if (mode === "miladi") {
        document.getElementById("miladi-fields").classList.remove("hidden");
      } else if (mode === "hijri") {
        document.getElementById("hijri-fields").classList.remove("hidden");
      }
    }

    window.addEventListener("load", function () {
      document.getElementById("spinner").style.display = "none";
      updateFields();
    });
  </script>
</body>
</html>
